<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>New Note</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
</head>
<body>
<h1>Title:</h1>
<input id = "title" name="title" type="text" minlength="5" maxlength="100">
<p>
<h1>Note:</h1>
<p><textarea id="note" name="note" cols="150" rows="20" minlength="5" maxlength="10000"></textarea></p>
<div><input type="radio" id="private" name="accessType" value="private" checked>
    <label for="private">private</label>
    <input type="radio" id="public" name="accessType" value="public">
    <label for="public">public</label>
</div>
<p class="result" style="color:blue"></p>
<button type="button" onclick="sendNoteToCreate()">Submit</button>

</body>
<script>
        function sendNoteToCreate(){
            let result = document.querySelector('.result');
            result.innerHTML = "in work";
            let title = document.querySelector('#title');
            let text = document.querySelector('#note');
            let accessType = document.querySelector('input[name="accessType"]:checked');
            let request = new XMLHttpRequest();
            let url = "http://localhost:9999/note/create";
            request.open("POST", url, true);
            request.setRequestHeader("Content-Type", "application/json");
            request.responseType='json'
                request.onreadystatechange = function () {
                 if (request.readyState === 4 && request.status === 200) {
                 var operationStatus = request.response;
                 result.innerHTML = operationStatus;
                 if (operationStatus.success===true){
                    window.location.href = '/index';
                    }
                    else{
                    result.innerHTML = operationStatus.errors;
                    }
                 }
                 else {
                 result.innerHTML = "something gone wrong"
                };
            };
            var data = JSON.stringify({ "title": title.value, "content": text.value, "accessType": accessType.value });
            result.innerHTML = data;
            request.send(data);
        }
    </script>
</html>